# Changelog

All notable changes to the offline-ledger project.

## [Unreleased]

### Changed
- **Set Python 3.13 as Required Version** - Updated for best compatibility
  - Updated `.python-version` to 3.13
  - Updated `pyproject.toml` to require Python >=3.13
  - Updated ruff configuration to target Python 3.13
  - Python 3.13 provides full compatibility with Reflex and Pydantic V1
  - Avoids Pydantic V1 compatibility warnings present in Python 3.14

### Fixed
- **Reports Module Errors** - Fixed TypeError in trial balance report
  - Refactored trial balance rendering to use separate function
  - Removed problematic Reflex Var comparisons with integers
  - Fixed rx.cond() usage in report displays

- **Dashboard Transaction Display** - Simplified transaction amount calculation
  - Removed complex `rx.call_script()` usage that caused EventSpec errors
  - Transaction amounts now show "-" placeholder (full amounts in Transactions tab)

- **Build Configuration** - Fixed uv sync build errors
  - Added `[tool.hatch.build]` configuration to pyproject.toml
  - Specified `only-packages = true` to resolve package detection issues
  - Properly configured `packages = ["app"]` for wheel builds

## [0.1.0] - Initial Release

### Added
- Complete double-entry accounting system
- Chart of Accounts management (Assets, Liabilities, Equity, Revenue, Expenses)
- Transaction management with automatic balance validation
- Advanced filtering (date range, account, amount, description)
- Financial reports:
  - Trial Balance
  - Balance Sheet
  - Income Statement
  - General Ledger
- Dashboard with key financial metrics
- Multi-language support (EN, ES, FR, ZH, PT)
- Dark mode toggle
- Data import/export (JSON)
- Keyboard shortcuts
- LocalStorage persistence
- Offline-first architecture

### Technical Stack
- **Framework**: Reflex 0.8.17+
- **Package Manager**: uv (fast Python package installer)
- **Frontend**: React (generated by Reflex)
- **Styling**: Tailwind CSS v3
- **Storage**: Browser LocalStorage
- **Font**: JetBrains Mono
- **Python**: 3.14+

### Documentation
- Comprehensive README with full feature documentation
- QUICK_START guide for rapid setup
- TROUBLESHOOTING guide for common issues
- MIGRATION_TO_UV guide for uv adoption
- pyproject.toml for modern Python packaging

---

## Migration Notes

### Python 3.10 â†’ 3.14
If upgrading from an older version:

```bash
# Update Python version
echo "3.14" > .python-version

# Clean environment
rm -rf .venv uv.lock

# Reinstall dependencies
uv sync

# Run the app
uv run reflex run
```

### Known Limitations
- Dashboard transaction list shows "-" for amounts (full details in Transactions tab)
- Some deprecation warnings from Reflex regarding auto-setters (will be fixed in future Reflex version)

---

**For detailed installation and usage instructions, see README.md**

